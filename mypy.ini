[mypy]
# Global options
python_version = 3.12
# Exclude directories
exclude = ^(examples/.*|models/.*|tests/.*|scripts/.*)

# === STRICT MODE CONFIGURATION ===
# Enable all strict checks
strict = True

# === WARNING SETTINGS ===
warn_return_any = True
warn_unused_configs = True
warn_redundant_casts = True
warn_unused_ignores = True
warn_no_return = True
warn_unreachable = True
warn_incomplete_stub = True

# === TYPE CHECKING STRICTNESS ===
strict_optional = True
strict_equality = True
strict_concatenate = True

# === DISALLOW ANY TYPES (Laravel 12 Enhanced) ===
disallow_any_generics = True
disallow_any_unimported = True
disallow_any_decorated = False
disallow_any_explicit = False
disallow_any_expr = False

# === UNTYPED CODE HANDLING ===
disallow_untyped_defs = True
disallow_incomplete_defs = True
disallow_untyped_decorators = True
disallow_untyped_calls = True
disallow_subclassing_any = True
check_untyped_defs = True

# === ADVANCED STRICT CHECKS ===
no_implicit_optional = True
no_implicit_reexport = True
implicit_reexport = False
local_partial_types = True
allow_redefinition = False
extra_checks = True

# === ERROR REPORTING ===
show_error_codes = True
show_column_numbers = True
show_absolute_path = True
color_output = True
error_summary = True
show_traceback = True
pretty = True

# === CACHE SETTINGS ===
incremental = True
cache_dir = .mypy_cache
sqlite_cache = True

# === IMPORT DISCOVERY ===
namespace_packages = True
explicit_package_bases = True
ignore_missing_imports = False

# Per-module options - SQLAlchemy
[mypy-sqlalchemy.*]
ignore_missing_imports = True
ignore_errors = True

# Third-party libraries
[mypy-passlib.*]
ignore_missing_imports = True

[mypy-jose.*]
ignore_missing_imports = True

[mypy-uvicorn.*]
ignore_missing_imports = True

[mypy-pytest.*]
ignore_missing_imports = True

[mypy-qrcode.*]
ignore_missing_imports = True
ignore_errors = True

[mypy-pyotp.*]
ignore_missing_imports = True
ignore_errors = True

[mypy-webauthn.*]
ignore_missing_imports = True
ignore_errors = True

[mypy-PIL.*]
ignore_missing_imports = True

[mypy-redis.*]
ignore_missing_imports = True
ignore_errors = True

[mypy-psutil.*]
ignore_missing_imports = True
ignore_errors = True

[mypy-twilio.*]
ignore_missing_imports = True
ignore_errors = True

[mypy-faker.*]
ignore_missing_imports = True

[mypy-fastapi.*]
ignore_missing_imports = True

[mypy-starlette.*]
ignore_missing_imports = True

[mypy-pydantic.*]
ignore_missing_imports = True

[mypy-celery.*]
ignore_missing_imports = True

[mypy-alembic.*]
ignore_missing_imports = True

[mypy-email_validator.*]
ignore_missing_imports = True

[mypy-bcrypt.*]
ignore_missing_imports = True

[mypy-cryptography.*]
ignore_missing_imports = True

[mypy-botocore.*]
ignore_missing_imports = True

[mypy-azure.*]
ignore_missing_imports = True

[mypy-google.*]
ignore_missing_imports = True

[mypy-dropbox.*]
ignore_missing_imports = True

[mypy-babel.*]
ignore_missing_imports = True

[mypy-croniter.*]
ignore_missing_imports = True

[mypy-elasticsearch.*]
ignore_missing_imports = True

[mypy-algoliasearch.*]
ignore_missing_imports = True

[mypy-aiohttp.*]
ignore_missing_imports = True

[mypy-markdown.*]
ignore_missing_imports = True

# Stubs directory
[mypy-stubs.*]
ignore_errors = True
follow_imports = skip

# Application-specific modules with complex type issues
[mypy-app.Services.OrganizationalDirectoryService]
ignore_errors = True

[mypy-app.Services.OrganizationalChartService]
ignore_errors = True

[mypy-app.Services.OrganizationalAnalyticsService]
ignore_errors = True

[mypy-app.Services.MFAAnalyticsService]
ignore_errors = True

[mypy-app.Services.MFARateLimitService]
ignore_errors = True

[mypy-app.Services.MFAAuditService]
ignore_errors = True

[mypy-app.Models.User]
ignore_errors = True

[mypy-app.Services.RoleService]
ignore_errors = True

[mypy-app.Services.PermissionService]
ignore_errors = True

[mypy-app.Services.OAuth2ScopesService]
ignore_errors = True

[mypy-app.Services.OAuth2ClientService]
ignore_errors = True

[mypy-app.Services.OAuth2GrantTypesService]
ignore_errors = True

[mypy-app.Services.OAuth2AuthServerService]
ignore_errors = True

[mypy-app.Services.OAuth2IntrospectionService]
ignore_errors = True

[mypy-app.Models.EmployeeTransfer]
ignore_errors = True

[mypy-app.Support.Config]
ignore_errors = True

[mypy-app.Telescope.*]
ignore_errors = True

[mypy-app.Horizon.*]
ignore_errors = True

[mypy-app.Sanctum.*]
ignore_errors = True

[mypy-database.migrations.*]
ignore_errors = True

[mypy-database.Schema.*]
ignore_errors = True

[mypy-app.Socialite.*]
ignore_errors = True

[mypy-routes.telescope]
ignore_errors = True

[mypy-routes.horizon]
ignore_errors = True

[mypy-routes.sanctum]
ignore_errors = True

[mypy-routes.mfa]
ignore_errors = True

[mypy-routes.oauth2]
ignore_errors = True

[mypy-examples.*]
ignore_errors = True

# === LARAVEL 12 APPLICATION MODULE CONFIGURATION ===
# Core modules with ultra-strict typing requirements
[mypy-app.Http.Controllers.*]
strict = True
disallow_any_generics = True
disallow_any_explicit = False
disallow_any_decorated = False
disallow_any_expr = False
disallow_untyped_defs = True
warn_return_any = True

[mypy-app.Http.Requests.*]
strict = True
disallow_any_generics = True
disallow_any_explicit = True
disallow_any_decorated = True
disallow_any_expr = True
disallow_untyped_defs = True

[mypy-app.Http.Resources.*]
strict = True
disallow_any_generics = True
disallow_any_explicit = True
disallow_any_decorated = True
disallow_any_expr = True
disallow_untyped_defs = True

[mypy-app.Http.Schemas.*]
strict = True
disallow_any_generics = True
disallow_any_explicit = False
disallow_any_decorated = False
disallow_any_expr = False
disallow_untyped_defs = True

[mypy-app.Utils.*]
strict = True
disallow_any_generics = True
disallow_any_explicit = True
disallow_any_decorated = True
disallow_any_expr = True
disallow_untyped_defs = True

# Services with relaxed typing for complex business logic
[mypy-app.Services.*]
strict = True
disallow_untyped_defs = True
disallow_any_generics = False
warn_return_any = True

# Models with SQLAlchemy compatibility
[mypy-app.Models.*]
strict = True
disallow_untyped_defs = True
disallow_any_generics = False
warn_return_any = False

# Infrastructure with moderate strictness (removed duplicate sections below)

[mypy-app.Providers.*]
strict = True
disallow_untyped_defs = True

# Complex modules with relaxed rules (temporary)
[mypy-app.Queue.*]
disallow_untyped_defs = False
ignore_errors = True

[mypy-app.Jobs.*]
disallow_untyped_defs = False
ignore_errors = True

[mypy-app.Broadcasting.*]
disallow_untyped_defs = False
ignore_errors = True

[mypy-app.Storage.*]
disallow_untyped_defs = False
ignore_errors = True

[mypy-app.Pagination.*]
disallow_untyped_defs = False
ignore_errors = True

# Event system with moderate typing
[mypy-app.Events.*]
strict = True
disallow_untyped_defs = True
disallow_any_generics = False

[mypy-app.Listeners.*]
strict = True
disallow_untyped_defs = True
disallow_any_generics = False

[mypy-app.Mail.*]
strict = True
disallow_untyped_defs = True

[mypy-app.Notifications.*]
strict = True
disallow_untyped_defs = True

[mypy-app.Policies.*]
strict = True
disallow_untyped_defs = True

[mypy-app.Observers.*]
strict = True
disallow_untyped_defs = True

# Database modules with flexibility
[mypy-database.seeders.*]
disallow_untyped_defs = False
ignore_errors = True

[mypy-database.factories.*]
disallow_untyped_defs = False
ignore_errors = True

# Routing with moderate strictness
[mypy-app.Routing.*]
strict = True
disallow_untyped_defs = True
disallow_any_generics = False

# Make commands contain template code that shouldn't be type-checked
[mypy-app.Console.Commands.MakeTraitCommand]
ignore_errors = True

[mypy-app.Console.Commands.MakeCastCommand]
ignore_errors = True

[mypy-app.Console.Commands.*]
ignore_errors = True

[mypy-app.Console.Scheduling.*]
ignore_errors = True

# Utility scripts
[mypy-migrate]
ignore_errors = True

[mypy-app.Cache.*]
ignore_errors = True

[mypy-app.Database.*]
ignore_errors = True

[mypy-app.Localization.*]
ignore_errors = True


[mypy-app.Filesystem.*]
ignore_errors = True

# === LARAVEL 12 BALANCED TYPE CONFIGURATION ===
# Balance between strict typing and Laravel framework flexibility

# Core framework modules with moderate strictness
[mypy-app.Foundation.*]
strict = False
disallow_any_generics = False
disallow_any_explicit = False
disallow_any_decorated = False
disallow_any_expr = False
disallow_untyped_defs = True
warn_return_any = False

[mypy-app.Support.*]
strict = False
disallow_any_generics = False
disallow_any_explicit = False
disallow_any_decorated = False
disallow_any_expr = False
disallow_untyped_defs = True
warn_return_any = False

# Route handling with Laravel patterns
[mypy-routes.*]
strict = False
disallow_any_generics = False
disallow_any_explicit = False
disallow_any_decorated = False
disallow_any_expr = False
disallow_untyped_defs = True
warn_return_any = False

# Main application with framework integration
[mypy-main]
strict = False
disallow_any_generics = False
disallow_any_explicit = False
disallow_any_decorated = False
disallow_any_expr = False
disallow_untyped_defs = True
warn_return_any = False

# Testing framework with flexibility
[mypy-app.Testing.*]
strict = False
disallow_any_generics = False
disallow_any_explicit = False
disallow_any_decorated = False
disallow_any_expr = False
disallow_untyped_defs = True
warn_return_any = False

# Configuration system with dynamic patterns
[mypy-app.Config.*]
strict = False
disallow_any_generics = False
disallow_any_explicit = False
disallow_any_decorated = False
disallow_any_expr = False
disallow_untyped_defs = True
warn_return_any = False